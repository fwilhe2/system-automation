---
- hosts: all

  vars_files:
    - default.config.yml

  roles:
    - role: greenleader.codium
      become: true

  tasks:
    - name: Install Desktop Packages
      become: true
      become_user: root
      package:
        state: present
        name: "{{ item }}"
      loop: "{{ desktop_packages[ansible_os_family] }}"

    - name: Install VS Codium Extensions
      codium-extensions:
        name: "{{ item }}"
        state: present
      loop: "{{ codium_extensions }}"
